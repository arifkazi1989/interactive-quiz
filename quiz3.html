<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Duolingo-Style Interactive Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body {
        font-family: 'Segoe UI', Arial, sans-serif;
        margin: 0;
        background: #f7fdf9;
        color: #222;
    }
    #quizWrapper {
        max-width: 480px;
        margin: 0 auto;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }
    .header {
        padding: 16px 20px 6px 20px;
        background: #e6f9ec;
        border-bottom: 2px solid #d3f2da;
        border-radius: 0 0 18px 18px;
        position: relative;
    }
    .progress {
        width: 100%;
        height: 8px;
        background-color: #cdead5;
        border-radius: 99px;
        overflow: hidden;
        margin-top: 6px;
    }
    .progress-bar {
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, #36c96b, #8ee999);
        transition: width 0.28s;
    }
    .score {
        position: absolute;
        right: 20px;
        top: 14px;
        font-weight: 600;
        color: #22814d;
        font-size: 1.1em;
    }
    #questionNum {
        font-weight: 600;
        color: #444;
    }
    .content {
        padding: 20px;
        flex: 1 1 auto;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
    }
    #questionText {
        font-size: 1.15em;
        font-weight: 600;
        margin-bottom: 20px;
    }
    .options {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    .option-btn {
        background: #eef6ff;
        border: 2px solid transparent;
        font-size: 1em;
        color: #222;
        padding: 14px;
        border-radius: 10px;
        text-align: left;
        font-weight: 500;
        cursor: pointer;
        transition: background 0.15s, border-color 0.15s;
    }
    .option-btn.correct {
        background: #b4e8ca;
        color: #145c36;
        border-color: #67d795;
    }
    .option-btn.wrong {
        background: #ffd4d0;
        color: #8a1b11;
        border-color: #ff948a;
    }
    #feedbackBox {
        min-height: 45px;
        margin: 14px 0 7px 0;
        font-size: 0.95em;
    }
    #feedbackBox.correct {
        color: #1d8c5d;
        background: #d6f9ec;
        border-left: 4px solid #38dba5;
        padding: 8px 12px;
        border-radius: 7px;
    }
    #feedbackBox.wrong {
        color: #d13d2d;
        background: #ffe2e2;
        border-left: 4px solid #ff8881;
        padding: 8px 12px;
        border-radius: 7px;
    }
    #explanation { margin-top: 4px; color: #444; }
    #nextBtn {
        margin-top: 18px;
        width: 100%;
        background: linear-gradient(97deg,#5b9fff,#52d084 95%);
        color: #fff;
        font-size: 1.05em;
        font-weight: 600;
        border: none;
        border-radius: 12px;
        padding: 12px 0;
        cursor: pointer;
        display: none;
    }
    #nextBtn:active { background: linear-gradient(90deg,#319ad8,#34c273 95%); }
    #finalResult {
        padding: 40px 20px;
        text-align:center;
        font-size: 1.2em;
        font-weight: 600;
        color: #178273;
    }
</style>
</head>
<body>
<div id="quizWrapper">
    <div class="header">
        <div id="questionNum"></div>
        <div class="score" id="scoreBox">Score: 0</div>
        <div class="progress">
            <div class="progress-bar" id="progressBar"></div>
        </div>
    </div>
    <div class="content" id="quizContent">
        <div id="questionText"></div>
        <div class="options" id="optionsBox"></div>
        <div id="feedbackBox"></div>
        <button id="nextBtn">Next Question</button>
    </div>
    <div id="finalResult" style="display:none;"></div>
</div>
<script>
const quizData = [
    {q:"Which hormone regulates blood calcium by increasing osteoclast activity?",options:{a:"Calcitonin",b:"Parathyroid hormone",c:"Insulin",d:"Aldosterone"},answer:"b",exp:"PTH increases calcium levels by stimulating osteoclast activity."},
    {q:"The primary storage form of glucose in the liver is:",options:{a:"Glucose-6-phosphate",b:"Glycogen",c:"Lactate",d:"Glucagon"},answer:"b",exp:"The liver stores glucose mainly as glycogen."},
    {q:"Which gland produces melatonin?",options:{a:"Thyroid gland",b:"Pineal gland",c:"Pituitary gland",d:"Adrenal gland"},answer:"b",exp:"The pineal gland secretes melatonin."},
    {q:"Which electrolyte disturbance is most likely with Addison's disease?",options:{a:"Hypernatremia",b:"Hyponatremia",c:"Hypercalcemia",d:"Hypokalemia"},answer:"b",exp:"Addison's disease often causes hyponatremia due to aldosterone deficiency."},
    {q:"The 'fight or flight' hormones are:",options:{a:"Cortisol & GH",b:"Adrenaline & Noradrenaline",c:"Thyroxine & Calcitonin",d:"Insulin & Glucagon"},answer:"b",exp:"Adrenal medulla releases adrenaline & noradrenaline in stress."},
    {q:"Which is NOT a symptom of hypoglycemia?",options:{a:"Sweating",b:"Confusion",c:"Tachycardia",d:"Polyuria"},answer:"d",exp:"Polyuria is more typical of hyperglycemia/diabetes."},
    {q:"What’s the first-line drug for hypothyroidism?",options:{a:"Levothyroxine",b:"Liothyronine",c:"Methimazole",d:"Iodine"},answer:"a",exp:"Levothyroxine (synthetic T4) is standard treatment."},
    {q:"Which mineral is essential for thyroid hormone synthesis?",options:{a:"Iron",b:"Zinc",c:"Iodine",d:"Selenium"},answer:"c",exp:"Iodine is a key component of T3 and T4."},
    {q:"Which hormone does the anterior pituitary NOT secrete?",options:{a:"GH",b:"Prolactin",c:"TSH",d:"ADH"},answer:"d",exp:"ADH is secreted by posterior pituitary (stored there, made in hypothalamus)."},
    {q:"Which lab finding is typical in untreated type 1 diabetes?",options:{a:"Hyperglycemia",b:"Low ketones",c:"Alkalosis",d:"Hypoglycemia"},answer:"a",exp:"Hyperglycemia is hallmark due to insulin deficiency."},
    {q:"Which organ is the target of ACTH?",options:{a:"Adrenal cortex",b:"Adrenal medulla",c:"Thyroid",d:"Liver"},answer:"a",exp:"ACTH stimulates adrenal cortex to produce cortisol."},
    {q:"Which diabetes medication increases risk of lactic acidosis?",options:{a:"Metformin",b:"Sulfonylureas",c:"SGLT2 inhibitors",d:"DPP-4 inhibitors"},answer:"a",exp:"Metformin can rarely cause lactic acidosis, especially in renal impairment."},
    {q:"Which vitamin deficiency causes rickets?",options:{a:"Vitamin A",b:"Vitamin C",c:"Vitamin D",d:"Vitamin K"},answer:"c",exp:"Vitamin D deficiency causes rickets in children."},
    {q:"The main stimulus for ADH release is:",options:{a:"Low glucose",b:"Low osmolarity",c:"High plasma osmolarity",d:"Low potassium"},answer:"c",exp:"ADH is released when plasma osmolarity is high or volume is low."},
    {q:"Which pancreatic cells produce insulin?",options:{a:"Alpha cells",b:"Beta cells",c:"Delta cells",d:"PP cells"},answer:"b",exp:"Beta cells of pancreas produce insulin."},
    {q:"Graves’ disease involves antibodies that stimulate which receptor?",options:{a:"TSH receptor",b:"Insulin receptor",c:"PTH receptor",d:"Cortisol receptor"},answer:"a",exp:"TSH receptor antibodies cause excess thyroid hormone production."},
    {q:"Kussmaul respiration is classically seen in:",options:{a:"Hypoglycemia",b:"Hyperosmolar state",c:"DKA",d:"Myxedema"},answer:"c",exp:"DKA compensation for metabolic acidosis causes deep, rapid breathing."},
    {q:"Which hormone increases after a carbohydrate-rich meal?",options:{a:"Glucagon",b:"Insulin",c:"Cortisol",d:"GH"},answer:"b",exp:"Insulin rises after meals to promote glucose uptake."},
    {q:"The primary effect of calcitonin is:",options:{a:"Increase blood calcium",b:"Decrease blood calcium",c:"Increase blood glucose",d:"Increase sodium reabsorption"},answer:"b",exp:"Calcitonin lowers blood calcium by inhibiting osteoclast activity."},
    {q:"Which lab marker best reflects average blood glucose over 3 months?",options:{a:"Fasting plasma glucose",b:"Random plasma glucose",c:"HbA1c",d:"Oral glucose tolerance test"},answer:"c",exp:"HbA1c reflects average glucose over 2-3 months."}
];

let current = 0, score = 0, total = quizData.length;

const progressBar = document.getElementById("progressBar");
const scoreBox = document.getElementById("scoreBox");
const questionNum = document.getElementById("questionNum");
const questionText = document.getElementById("questionText");
const optionsBox = document.getElementById("optionsBox");
const feedbackBox = document.getElementById("feedbackBox");
const nextBtn = document.getElementById("nextBtn");
const finalResult = document.getElementById("finalResult");
const quizContent = document.getElementById("quizContent");

function loadQuestion() {
    feedbackBox.innerHTML = "";
    feedbackBox.className = "";
    nextBtn.style.display = "none";
    let pct = (current) / total * 100;
    progressBar.style.width = pct + '%';
    questionNum.textContent = `Question ${current+1} of ${total}`;
    questionText.textContent = quizData[current].q;
    optionsBox.innerHTML = '';
    for (let key in quizData[current].options) {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.textContent = `${key}) ${quizData[current].options[key]}`;
        btn.setAttribute('data-key', key);
        btn.onclick = () => selectOption(btn, key);
        optionsBox.appendChild(btn);
    }
}

function selectOption(btn, key) {
    Array.from(optionsBox.children).forEach(b => b.disabled = true);
    const correct = quizData[current].answer;
    Array.from(optionsBox.children).forEach(b => {
        if (b.getAttribute('data-key') === correct) b.classList.add('correct');
        if (b === btn && key !== correct) b.classList.add('wrong');
    });
    if (key === correct) {
        feedbackBox.innerHTML = `<b>Correct!</b>`;
        feedbackBox.className = "correct";
        score++;
        scoreBox.textContent = `Score: ${score}`;
    } else {
        feedbackBox.innerHTML = `<b>Oops!</b> The correct answer was <b>${correct}) ${quizData[current].options[correct]}</b>.`;
        feedbackBox.className = "wrong";
    }
    feedbackBox.innerHTML += `<div id="explanation">${quizData[current].exp}</div>`;
    nextBtn.style.display = "block";
}

nextBtn.onclick = () => {
    current++;
    if(current < total) {
        loadQuestion();
    } else {
        progressBar.style.width = '100%';
        quizContent.style.display = "none";
        finalResult.style.display = "block";
        finalResult.innerHTML = `🎉 Quiz Completed!<br>Your final score: <b>${score}</b> out of <b>${total}</b>.`;
    }
};

loadQuestion();
</script>
</body>
</html>
