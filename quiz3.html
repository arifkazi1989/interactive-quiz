<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Duolingo-Style Interactive Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body {
        font-family: 'Segoe UI', Arial, sans-serif;
        margin: 0;
        background: #f7fdf9;
        color: #222;
    }
    #quizWrapper {
        max-width: 480px;
        margin: 0 auto;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }
    .header {
        padding: 16px 20px 6px 20px;
        background: #e6f9ec;
        border-bottom: 2px solid #d3f2da;
        border-radius: 0 0 18px 18px;
        position: relative;
    }
    .progress {
        width: 100%;
        height: 8px;
        background-color: #cdead5;
        border-radius: 99px;
        overflow: hidden;
        margin-top: 6px;
    }
    .progress-bar {
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, #36c96b, #8ee999);
        transition: width 0.28s;
    }
    .score {
        position: absolute;
        right: 20px;
        top: 14px;
        font-weight: 600;
        color: #22814d;
        font-size: 1.1em;
    }
    #questionNum {
        font-weight: 600;
        color: #444;
    }
    .content {
        padding: 20px;
        flex: 1 1 auto;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
    }
    #questionText {
        font-size: 1.15em;
        font-weight: 600;
        margin-bottom: 20px;
    }
    .options {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    .option-btn {
        background: #eef6ff;
        border: 2px solid transparent;
        font-size: 1em;
        color: #222;
        padding: 14px;
        border-radius: 10px;
        text-align: left;
        font-weight: 500;
        cursor: pointer;
        transition: background 0.15s, border-color 0.15s;
    }
    .option-btn.correct {
        background: #b4e8ca;
        color: #145c36;
        border-color: #67d795;
    }
    .option-btn.wrong {
        background: #ffd4d0;
        color: #8a1b11;
        border-color: #ff948a;
    }
    #feedbackBox {
        min-height: 45px;
        margin: 14px 0 7px 0;
        font-size: 0.95em;
    }
    #feedbackBox.correct {
        color: #1d8c5d;
        background: #d6f9ec;
        border-left: 4px solid #38dba5;
        padding: 8px 12px;
        border-radius: 7px;
    }
    #feedbackBox.wrong {
        color: #d13d2d;
        background: #ffe2e2;
        border-left: 4px solid #ff8881;
        padding: 8px 12px;
        border-radius: 7px;
    }
    #explanation { margin-top: 4px; color: #444; }
    #nextBtn {
        margin-top: 18px;
        width: 100%;
        background: linear-gradient(97deg,#5b9fff,#52d084 95%);
        color: #fff;
        font-size: 1.05em;
        font-weight: 600;
        border: none;
        border-radius: 12px;
        padding: 12px 0;
        cursor: pointer;
        display: none;
    }
    #nextBtn:active { background: linear-gradient(90deg,#319ad8,#34c273 95%); }
    #finalResult {
        padding: 40px 20px;
        text-align:center;
        font-size: 1.2em;
        font-weight: 600;
        color: #178273;
    }
</style>
</head>
<body>
<div id="quizWrapper">
    <div class="header">
        <div id="questionNum"></div>
        <div class="score" id="scoreBox">Score: 0</div>
        <div class="progress">
            <div class="progress-bar" id="progressBar"></div>
        </div>
    </div>
    <div class="content" id="quizContent">
        <div id="questionText"></div>
        <div class="options" id="optionsBox"></div>
        <div id="feedbackBox"></div>
        <button id="nextBtn">Next Question</button>
    </div>
    <div id="finalResult" style="display:none;"></div>
</div>
<script>
const quizData = [
    {q:"Which blood cell type is primarily responsible for antibody production?",options:{a:"Neutrophil",b:"T-lymphocyte",c:"B-lymphocyte",d:"Monocyte"},answer:"c",exp:"B-lymphocytes differentiate into plasma cells, which secrete antibodies."},
    {q:"Blood pressure is physiologically lowest in which part?",options:{a:"Aorta",b:"Arterioles",c:"Capillaries",d:"Veins"},answer:"d",exp:"Veins are low-pressure vessels returning blood to the heart."},
    {q:"Which vitamin is essential for blood coagulation?",options:{a:"Vitamin C",b:"Vitamin K",c:"Vitamin D",d:"Vitamin B12"},answer:"b",exp:"Vitamin K is necessary for synthesis of clotting factors."},
    {q:"A patient presents with tremor, tachycardia, exophthalmos, and weight loss. Most likely diagnosis?",options:{a:"Addison's disease",b:"Graves' disease",c:"Cushing's syndrome",d:"Pheochromocytoma"},answer:"b",exp:"Classic features of Graves' (autoimmune hyperthyroidism)."},
    {q:"Which microorganism causes tuberculosis?",options:{a:"Staphylococcus aureus",b:"Mycobacterium tuberculosis",c:"Pseudomonas aeruginosa",d:"Escherichia coli"},answer:"b",exp:"Mycobacterium tuberculosis is the main cause of TB."},
    {q:"Which is the universal blood donor type?",options:{a:"A",b:"B",c:"AB",d:"O"},answer:"d",exp:"Type O- is the universal donor as it lacks A/B antigens."},
    {q:"What is the main function of red blood cells?",options:{a:"Immunity",b:"Coagulation",c:"Gas exchange",d:"Antibody production"},answer:"c",exp:"RBCs transport oxygen and carbon dioxide."},
    {q:"Which structure prevents food entering the airway during swallowing?",options:{a:"Epiglottis",b:"Uvula",c:"Tonsil",d:"Lingual frenulum"},answer:"a",exp:"Epiglottis covers the trachea during swallowing."},
    {q:"Which is the first heart sound (S1) caused by?",options:{a:"Aortic valve closure",b:"Mitral & tricuspid valve closure",c:"Pulmonary valve opening",d:"Atrial contraction"},answer:"b",exp:"S1 is due to closure of mitral and tricuspid valves at systole start."},
    {q:"Which molecule directly provides energy for cellular work?",options:{a:"ATP",b:"Glucose",c:"DNA",d:"Cholesterol"},answer:"a",exp:"ATP is the energy currency used by cells."},
    {q:"Which organ produces the hormone erythropoietin?",options:{a:"Liver",b:"Kidney",c:"Pancreas",d:"Lung"},answer:"b",exp:"The kidneys release EPO to stimulate RBC production."},
    {q:"Which is the most common cause of community-acquired pneumonia?",options:{a:"Streptococcus pneumoniae",b:"Staphylococcus aureus",c:"Mycoplasma pneumoniae",d:"Pseudomonas aeruginosa"},answer:"a",exp:"Strep pneumoniae is the leading community-acquired pneumonia cause."},
    {q:"Which electrolyte abnormality is commonly seen with vomiting?",options:{a:"Hyperkalemia",b:"Hypokalemia",c:"Hypercalcemia",d:"Hyponatremia"},answer:"b",exp:"Vomiting causes loss of K+ â†’ hypokalemia."},
    {q:"Which microorganism most often causes peptic ulcer disease?",options:{a:"Candida albicans",b:"Staphylococcus",c:"Helicobacter pylori",d:"Rotavirus"},answer:"c",exp:"H. pylori infection is key in peptic ulcer formation."},
    {q:"Which cranial nerve controls facial muscle movement?",options:{a:"Vagus",b:"Facial (VII)",c:"Trigeminal (V)",d:"Accessory (XI)"},answer:"b",exp:"The facial nerve (VII) innervates facial muscles."},
    {q:"Which symptom is classic for nephrotic syndrome?",options:{a:"Polyuria",b:"Frothy urine",c:"Bloody stool",d:"Productive cough"},answer:"b",exp:"Proteinuria in nephrotic syndrome causes foamy (frothy) urine."},
    {q:"Which is a first-line antihypertensive in diabetes?",options:{a:"Beta-blocker",b:"ACE inhibitor",c:"Diuretic",d:"Alpha-blocker"},answer:"b",exp:"ACE inhibitors (like enalapril) protect kidneys in diabetes."},
    {q:"What is the 'universal recipient' blood type?",options:{a:"O-",b:"A",c:"B",d:"AB"},answer:"d",exp:"AB can receive A, B, AB, or O RBCs."},
    {q:"Which vitamin deficiency causes scurvy?",options:{a:"B12",b:"C",c:"K",d:"D"},answer:"b",exp:"Vitamin C deficiency causes scurvy (affecting collagen synthesis)."},
    {q:"Which hormone increases sodium reabsorption in kidneys?",options:{a:"Cortisol",b:"Parathyroid hormone",c:"Aldosterone",d:"Insulin"},answer:"c",exp:"Aldosterone promotes Na+ reabsorption in the distal nephron."}
];

let current = 0, score = 0, total = quizData.length;

const progressBar = document.getElementById("progressBar");
const scoreBox = document.getElementById("scoreBox");
const questionNum = document.getElementById("questionNum");
const questionText = document.getElementById("questionText");
const optionsBox = document.getElementById("optionsBox");
const feedbackBox = document.getElementById("feedbackBox");
const nextBtn = document.getElementById("nextBtn");
const finalResult = document.getElementById("finalResult");
const quizContent = document.getElementById("quizContent");

function loadQuestion() {
    feedbackBox.innerHTML = "";
    feedbackBox.className = "";
    nextBtn.style.display = "none";
    let pct = (current) / total * 100;
    progressBar.style.width = pct + '%';
    questionNum.textContent = `Question ${current+1} of ${total}`;
    questionText.textContent = quizData[current].q;
    optionsBox.innerHTML = '';
    for (let key in quizData[current].options) {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.textContent = `${key}) ${quizData[current].options[key]}`;
        btn.setAttribute('data-key', key);
        btn.onclick = () => selectOption(btn, key);
        optionsBox.appendChild(btn);
    }
}

function selectOption(btn, key) {
    Array.from(optionsBox.children).forEach(b => b.disabled = true);
    const correct = quizData[current].answer;
    Array.from(optionsBox.children).forEach(b => {
        if (b.getAttribute('data-key') === correct) b.classList.add('correct');
        if (b === btn && key !== correct) b.classList.add('wrong');
    });
    if (key === correct) {
        feedbackBox.innerHTML = `<b>Well done!</b>`;
        feedbackBox.className = "correct";
        score++;
        scoreBox.textContent = `Score: ${score}`;
    } else {
        feedbackBox.innerHTML = `<b>Keep going!</b> The correct answer was <b>${correct}) ${quizData[current].options[correct]}</b>.`;
        feedbackBox.className = "wrong";
    }
    feedbackBox.innerHTML += `<div id="explanation">${quizData[current].exp}</div>`;
    nextBtn.style.display = "block";
}

nextBtn.onclick = () => {
    current++;
    if(current < total) {
        loadQuestion();
    } else {
        progressBar.style.width = '100%';
        quizContent.style.display = "none";
        finalResult.style.display = "block";
        finalResult.innerHTML = `ðŸŽ‰ Quiz Completed!<br>Your final score: <b>${score}</b> out of <b>${total}</b>.`;
    }
};

loadQuestion();
</script>
</body>
</html>
