<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Endocrine Disorders Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body {
        font-family: 'Segoe UI', Arial, sans-serif;
        margin: 0;
        background: #f7f9fb;
        color: #222;
    }
    #quizWrapper {
        max-width: 420px;
        margin: 0 auto;
        background: #fff;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        border-radius: 0 0 18px 18px;
        box-shadow: 0 4px 16px rgba(50,56,67,0.05);
    }
    .header {
        padding: 20px 20px 10px 20px;
        border-bottom: 1px solid #f0f3f6;
        background: #eaf4fc;
        border-radius:0 0 21px 21px;
        position:relative;
    }
    .progress {
        width: 100%;
        height: 7px;
        background-color: #e0e7ee;
        border-radius: 99px;
        margin-block: 8px 0;
        overflow: hidden;
    }
    .progress-bar {
        height: 100%;
        border-radius: 99px;
        width: 0%;
        background: linear-gradient(90deg, #1abc9c 65%, #6ad4d6);
        transition: width 0.28s;
    }
    .xp {
        position:absolute;
        top: 18px;
        right:24px;
        font-size: 1.05em;
        color: #555;
        display:flex;
        align-items:center;
        gap:3px;
    }
    .xp:before {
        content: "ðŸ”·";
        font-size:1.1em;
        margin-right:3px;
    }
    #questionNum {
        margin-block:4px 0;
        color: #666;
        font-weight:500;
    }
    .content {
        padding: 24px 24px 16px 24px;
        flex: 1 1 auto;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
    }
    #questionText {
        font-size: 1.19em;
        font-weight: 520;
        margin-bottom: 20px;
    }
    .options {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    .option-btn {
        background: #f0f3f8;
        border: none;
        font-size: 1.04em;
        color: #243046;
        padding: 15px 14px;
        border-radius: 11px;
        text-align: left;
        font-weight: 470;
        box-shadow: none;
        transition: background 0.15s, color 0.16s;
        cursor: pointer;
        outline: none;
        border: 2px solid transparent;
    }
    .option-btn.selected {
        border: 2px solid #9dbdff;
        background: #dceafd;
    }
    .option-btn.correct {
        background: #b4e8ca;
        color: #226c40;
        border-color:#8ad4b2;
    }
    .option-btn.wrong {
        background: #f9d0cc;
        color: #d13d2d;
        border-color: #f2917a;
    }
    #feedbackBox {
        min-height:45px; 
        margin: 14px 0 7px 0;
    }
    #feedbackBox.correct {
        color: #21a17d;
        background: #d6f9ec;
        border-left: 4px solid #38dba5;
        padding: 8px 12px;
        border-radius:7px;
    }
    #feedbackBox.wrong {
        color: #d13d2d;
        background: #ffe2e2;
        border-left: 4px solid #ff8881;
        padding: 8px 12px;
        border-radius:7px;
    }
    #explanation {
        font-size: 0.97em;
        color: #586075;
        margin-top:3px;
        margin-bottom: -1px;
    }
    #nextBtn {
        margin-top: 20px;
        width: 100%;
        background: linear-gradient(97deg,#5b9fff,#52d084 95%);
        color: #fff;
        font-size: 1.09em;
        font-weight: 500;
        border: none;
        border-radius: 13px;
        padding: 13px 0;
        cursor: pointer;
        box-shadow: 0 0 2px #b8d9f8;
        letter-spacing:.01em;
        transition: background 0.19s;
        display: none;
    }
    #nextBtn:active {
        background: linear-gradient(90deg,#319ad8,#34c273 95%);
    }
    #finalResult {
        padding: 34px 28px;
        text-align:center;
        font-size: 1.2em;
        font-weight:600;
        color: #178273;
        letter-spacing:.02em;
    }
    @media (max-width: 600px) {
        #quizWrapper { max-width: 100vw; border-radius: 0;}
        .header, .content { padding-left: 6vw; padding-right: 6vw;}
        .content {padding-top:22px;padding-bottom:16px;}
        #finalResult {padding:11vw 2vw;}
    }
</style>
</head>
<body>
<div id="quizWrapper">
    <div class="header">
        <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
        <div class="xp">3</div>
        <div id="questionNum"></div>
    </div>
    <div class="content" id="quizContent">
        <div id="questionText"></div>
        <div class="options" id="optionsBox"></div>
        <div id="feedbackBox"></div>
        <button id="nextBtn">Next Question</button>
    </div>
    <div id="finalResult" style="display:none;"></div>
</div>
<script>
// Quiz Data (10 MCQs)
const quizData = [
    {
        q: "Which statement best describes Type 1 Diabetes Mellitus?",
        options: {
            a:"Primarily due to insulin resistance, often in overweight adults",
            b:"Autoimmune destruction of Î²-cells leading to absolute insulin deficiency",
            c:"Caused by excess growth hormone production",
            d:"Commonly managed without insulin therapy"
        },
        answer: "b",
        explanation: "Type 1 DM is caused by autoimmune Î²-cell destruction in the pancreas, leading to absolute insulin deficiency."
    },
    {
        q: "In T1DM, basal insulin typically accounts for:",
        options: {
            a:"25% of total daily dose",
            b:"50% of total daily dose",
            c:"75% of total daily dose",
            d:"None â€” only prandial insulin is required"
        },
        answer: "b",
        explanation: "Basal insulin usually provides ~50% of the total daily insulin requirement in T1DM."
    },
    {
        q: "A conservative supplemental rapid-acting insulin dose in T1DM is calculated as:",
        options: {
            a:"1 unit per 10 mg/dL above target",
            b:"1 unit per 20 mg/dL above target",
            c:"1 unit per 50 mg/dL above target",
            d:"Sliding scale only, not calculated"
        },
        answer: "b",
        explanation: "A typical correction dose is 1 unit for every 20 mg/dL glucose above target."
    },
    {
        q: "First-line pharmacologic therapy for T2DM (without contraindications) is:",
        options: {
            a:"Sulfonylureas",
            b:"Insulin",
            c:"Metformin",
            d:"Acarbose"
        },
        answer: "c",
        explanation: "Metformin is the recommended first-line oral therapy for most T2DM patients unless contraindicated."
    },
    {
        q: "Diagnostic criteria for DKA include all EXCEPT:",
        options: {
            a:"Blood glucose > 250 mg/dL",
            b:"Bicarbonate > 18 mEq/L",
            c:"pH < 7.3",
            d:"Moderate ketonemia"
        },
        answer: "b",
        explanation: "DKA requires low bicarbonate (â‰¤18 mEq/L), not elevated."
    },
    {
        q: "When should IV insulin infusion be started in DKA patients?",
        options: {
            a:"Immediately on arrival",
            b:"Only after potassium > 3.3 mEq/L",
            c:"Only after glucose < 250 mg/dL",
            d:"Only if bicarbonate < 15 mEq/L"
        },
        answer: "b",
        explanation: "Insulin should not be started until potassium is >3.3 mEq/L to avoid life-threatening hypokalemia."
    },
    {
        q: "Which of the following is typical for HHS compared with DKA?",
        options: {
            a:"Greater ketoacidosis",
            b:"Lower glucose levels",
            c:"Higher serum osmolarity (>320 mOsm/kg)",
            d:"Younger age group affected"
        },
        answer: "c",
        explanation: "HHS features high serum osmolarity along with marked hyperglycemia but minimal ketoacidosis."
    },
    {
        q: "In myxedema crisis, which is TRUE?",
        options: {
            a:"It often presents with hyperthermia",
            b:"IV levothyroxine is preferred for initial therapy",
            c:"Oral thyroxine is equally effective in the acute phase",
            d:"Hyporeflexia with brisk reflexes is typical"
        },
        answer: "b",
        explanation: "IV levothyroxine is recommended for initial myxedema crisis management for reliable absorption."
    },
    {
        q: "Which is the correct sequence when treating thyroid storm?",
        options: {
            a:"Iodine â†’ Thionamide â†’ Î²-blocker",
            b:"Thionamide â†’ Iodine (after â‰¥1 hour) â†’ Î²-blocker",
            c:"Î²-blocker â†’ Iodine â†’ Thionamide",
            d:"Thionamide â†’ Î²-blocker â†’ Iodine immediately"
        },
        answer: "b",
        explanation: "Give thionamide first, then iodine â‰¥1hr later to prevent new hormone synthesis, plus Î²-blocker."
    },
    {
        q: "The most common cause of primary adrenal insufficiency in the U.S. is:",
        options: {
            a:"Tuberculosis",
            b:"Autoimmune adrenalitis",
            c:"Hemorrhage from meningococcal sepsis",
            d:"Pituitary tumor"
        },
        answer: "b",
        explanation: "Autoimmune adrenalitis is the top cause of Addison's disease in the US."
    }
];

let current = 0, score = 0, total = quizData.length;

const progressBar = document.getElementById("progressBar");
const xpDisplay = document.querySelector('.xp');
const questionNum = document.getElementById("questionNum");
const questionText = document.getElementById("questionText");
const optionsBox = document.getElementById("optionsBox");
const feedbackBox = document.getElementById("feedbackBox");
const nextBtn = document.getElementById("nextBtn");
const finalResult = document.getElementById("finalResult");
const quizContent = document.getElementById("quizContent");

function loadQuestion() {
    feedbackBox.innerHTML = "";
    feedbackBox.className = "";
    nextBtn.style.display = "none";
    // Progress bar
    let pct = (current) / total * 100;
    progressBar.style.width = pct + '%';
    // Question number
    questionNum.textContent = `Question ${current+1} of ${total}`;
    // Set question
    questionText.textContent = quizData[current].q;
    // Set options
    optionsBox.innerHTML = '';
    for (let key in quizData[current].options) {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.textContent = quizData[current].options[key];
        btn.setAttribute('data-key', key);
        btn.onclick = () => selectOption(btn, key);
        optionsBox.appendChild(btn);
    }
}

function selectOption(btn, key) {
    // Prevent selecting again
    Array.from(optionsBox.children).forEach(b => b.disabled = true);
    const correct = quizData[current].answer;
    // Style all buttons
    Array.from(optionsBox.children).forEach(b => {
        if (b.getAttribute('data-key') === correct) b.classList.add('correct');
        if (b === btn && key !== correct) b.classList.add('wrong');
        if (b === btn) b.classList.add('selected');
    });
    // Feedback
    if (key === correct) {
        feedbackBox.innerHTML = `<b>That's correct!</b>`;
        feedbackBox.className = "correct";
        score++;
    } else {
        feedbackBox.innerHTML = `<b>Sorry, that's wrong!</b>`;
        feedbackBox.className = "wrong";
    }
    feedbackBox.innerHTML += `<div id="explanation">${quizData[current].explanation}</div>`;
    nextBtn.style.display = "block";
}

nextBtn.onclick = () => {
    current++;
    if(current < total) {
        loadQuestion();
    } else {
        // Quiz done
        quizContent.style.display = "none";
        progressBar.style.width = '100%';
        finalResult.style.display = "block";
        finalResult.innerHTML = `ðŸŽ‰ <b>Quiz Completed!</b><br>Your score: <b>${score}</b> out of <b>${total}</b>.`;
    }
};

// Initial display
loadQuestion();
</script>
</body>
</html>
